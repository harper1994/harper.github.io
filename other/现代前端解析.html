<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>现代前端解析 | harper</title>
    <meta name="generator" content="VuePress 1.5.4">
    <link rel="icon" href="/favicon.ico">
    <link rel="manifest" href="/manifest.json">
    <link rel="manifest" href="/manifest.json">
    <link rel="apple-touch-icon" href="/images/timg2.jpg">
    <link rel="mask-icon" href="/images/timg2.jpg" color="#3eaf7c">
    <script charset="utf-8" src="/js/disable-user-zoom.js"></script>
    <meta name="description" content="Record the problem ">
    <meta name="viewport" content="width=device-width,width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="theme-color" content="#3eaf7c">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="msapplication-TileImage" content="/images/timg2.jpg.png">
    <meta name="msapplication-TileColor" content="#000000">
    <link rel="preload" href="/assets/css/0.styles.d62ddfad.css" as="style"><link rel="preload" href="/assets/js/app.8a0c65b0.js" as="script"><link rel="preload" href="/assets/js/2.c3d0c622.js" as="script"><link rel="preload" href="/assets/js/11.18263d61.js" as="script"><link rel="prefetch" href="/assets/js/10.4c961118.js"><link rel="prefetch" href="/assets/js/12.52cb30a5.js"><link rel="prefetch" href="/assets/js/13.0f95ccaa.js"><link rel="prefetch" href="/assets/js/14.9ac84e35.js"><link rel="prefetch" href="/assets/js/15.1b569c17.js"><link rel="prefetch" href="/assets/js/16.69483557.js"><link rel="prefetch" href="/assets/js/17.a5d94c11.js"><link rel="prefetch" href="/assets/js/18.c873d3b4.js"><link rel="prefetch" href="/assets/js/19.ea9c5759.js"><link rel="prefetch" href="/assets/js/20.d16a74a2.js"><link rel="prefetch" href="/assets/js/21.a3013aaa.js"><link rel="prefetch" href="/assets/js/22.db1db22a.js"><link rel="prefetch" href="/assets/js/23.6fb8983c.js"><link rel="prefetch" href="/assets/js/3.b7e28eeb.js"><link rel="prefetch" href="/assets/js/4.38c01414.js"><link rel="prefetch" href="/assets/js/5.e268925d.js"><link rel="prefetch" href="/assets/js/6.2f2f130f.js"><link rel="prefetch" href="/assets/js/7.9df990ac.js"><link rel="prefetch" href="/assets/js/8.889b646f.js"><link rel="prefetch" href="/assets/js/9.ed4461a2.js">
    <link rel="stylesheet" href="/assets/css/0.styles.d62ddfad.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/images/timg2.jpg" alt="harper" class="logo"> <span class="site-name can-hide">harper</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">
  主页
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="前端" class="dropdown-title"><span class="title">前端</span> <span class="arrow down"></span></button> <button type="button" aria-label="前端" class="mobile-dropdown-title"><span class="title">前端</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          Javascript
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/web/javascript/test.html" class="nav-link">
  ceshi
</a></li></ul></li><li class="dropdown-item"><h4>
          html
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/web/html/test.html" class="nav-link">
  ceshi
</a></li></ul></li><li class="dropdown-item"><h4>
          css
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/web/css/test.html" class="nav-link">
  ceshi
</a></li></ul></li></ul></div></div><div class="nav-item"><a href="/admin/" class="nav-link">
  后端
</a></div><div class="nav-item"><a href="/miniprogram/" class="nav-link">
  小程序
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="其他" class="dropdown-title"><span class="title">其他</span> <span class="arrow down"></span></button> <button type="button" aria-label="其他" class="mobile-dropdown-title"><span class="title">其他</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/other/H5/" class="nav-link">
  H5
</a></li><li class="dropdown-item"><!----> <a href="/other/vant/" class="nav-link">
  Vant
</a></li><li class="dropdown-item"><!----> <a href="/other/现代前端解析.html" class="nav-link">
  现代解析
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="插件" class="dropdown-title"><span class="title">插件</span> <span class="arrow down"></span></button> <button type="button" aria-label="插件" class="mobile-dropdown-title"><span class="title">插件</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/plugins/cookie.html" class="nav-link">
  cookie
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Vue" class="dropdown-title"><span class="title">Vue</span> <span class="arrow down"></span></button> <button type="button" aria-label="Vue" class="mobile-dropdown-title"><span class="title">Vue</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/vue/test.html" class="nav-link">
  test
</a></li></ul></div></div><div class="nav-item"><a href="/react/" class="nav-link">
  React
</a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">
  主页
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="前端" class="dropdown-title"><span class="title">前端</span> <span class="arrow down"></span></button> <button type="button" aria-label="前端" class="mobile-dropdown-title"><span class="title">前端</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          Javascript
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/web/javascript/test.html" class="nav-link">
  ceshi
</a></li></ul></li><li class="dropdown-item"><h4>
          html
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/web/html/test.html" class="nav-link">
  ceshi
</a></li></ul></li><li class="dropdown-item"><h4>
          css
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/web/css/test.html" class="nav-link">
  ceshi
</a></li></ul></li></ul></div></div><div class="nav-item"><a href="/admin/" class="nav-link">
  后端
</a></div><div class="nav-item"><a href="/miniprogram/" class="nav-link">
  小程序
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="其他" class="dropdown-title"><span class="title">其他</span> <span class="arrow down"></span></button> <button type="button" aria-label="其他" class="mobile-dropdown-title"><span class="title">其他</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/other/H5/" class="nav-link">
  H5
</a></li><li class="dropdown-item"><!----> <a href="/other/vant/" class="nav-link">
  Vant
</a></li><li class="dropdown-item"><!----> <a href="/other/现代前端解析.html" class="nav-link">
  现代解析
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="插件" class="dropdown-title"><span class="title">插件</span> <span class="arrow down"></span></button> <button type="button" aria-label="插件" class="mobile-dropdown-title"><span class="title">插件</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/plugins/cookie.html" class="nav-link">
  cookie
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Vue" class="dropdown-title"><span class="title">Vue</span> <span class="arrow down"></span></button> <button type="button" aria-label="Vue" class="mobile-dropdown-title"><span class="title">Vue</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/vue/test.html" class="nav-link">
  test
</a></li></ul></div></div><div class="nav-item"><a href="/react/" class="nav-link">
  React
</a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>前端</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>后端</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>小程序</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>其他</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/other/H5/" class="sidebar-link">H5</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/other/H5/#h5使用localstroge遇到的问题" class="sidebar-link">H5使用localStroge遇到的问题</a></li></ul></li><li><a href="/other/vant/" class="sidebar-link">Vant</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/other/vant/#全局loading的使用" class="sidebar-link">全局loading的使用</a></li></ul></li><li><a href="/other/现代前端解析.html" class="active sidebar-link">现代前端解析</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/other/现代前端解析.html#web技术基础" class="sidebar-link">web技术基础</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/other/现代前端解析.html#浏览器组成部分" class="sidebar-link">浏览器组成部分</a></li><li class="sidebar-sub-header"><a href="/other/现代前端解析.html#渲染引擎" class="sidebar-link">渲染引擎</a></li><li class="sidebar-sub-header"><a href="/other/现代前端解析.html#浏览器数据持久化存储技术" class="sidebar-link">浏览器数据持久化存储技术</a></li></ul></li><li class="sidebar-sub-header"><a href="/other/现代前端解析.html#http协议" class="sidebar-link">HTTP协议</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/other/现代前端解析.html#http1-0" class="sidebar-link">HTTP1.0</a></li><li class="sidebar-sub-header"><a href="/other/现代前端解析.html#http1-1" class="sidebar-link">HTTP1.1</a></li><li class="sidebar-sub-header"><a href="/other/现代前端解析.html#http2" class="sidebar-link">HTTP2</a></li><li class="sidebar-sub-header"><a href="/other/现代前端解析.html#安全机制" class="sidebar-link">安全机制</a></li><li class="sidebar-sub-header"><a href="/other/现代前端解析.html#https" class="sidebar-link">HTTPS</a></li><li class="sidebar-sub-header"><a href="/other/现代前端解析.html#前端实时协议" class="sidebar-link">前端实时协议</a></li><li class="sidebar-sub-header"><a href="/other/现代前端解析.html#css" class="sidebar-link">css</a></li></ul></li></ul></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>插件</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Vue</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>React</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="现代前端解析"><a href="#现代前端解析" class="header-anchor">#</a> 现代前端解析</h1> <h2 id="web技术基础"><a href="#web技术基础" class="header-anchor">#</a> web技术基础</h2> <h3 id="浏览器组成部分"><a href="#浏览器组成部分" class="header-anchor">#</a> 浏览器组成部分</h3> <ul><li><p><strong>用户界面</strong></p> <p>浏览器中可见的地址输入框，浏览器前进返回按钮，书签等功能选项。</p></li> <li><p><strong>网络</strong></p> <p>浏览器开启网络线程发送请求或下载资源文件的模块。</p> <p>eg: DOM树解析过程中请求静态资源首先是通过浏览器的网络模块发起的。</p></li> <li><p><strong>JavaScript引擎</strong></p> <p>在用户界面和渲染引擎之前传输指令，或在客户端本地存储中读写数据等，是浏览器中各个部分之间相互通信的核心。</p></li> <li><p><strong>渲染引擎</strong></p> <p>解析DOM文档和CSS规则，并将内容排版到浏览器中，显示样式的界面。也称排版引擎，常说的浏览器内核指的就是渲染引擎。</p></li> <li><p><strong>UI后端</strong></p> <p>绘制基本的浏览器窗口控件。比如：按钮，输入框等。</p></li> <li><p><strong>JavaScript解释器</strong></p> <p>浏览器解析和执行javascript脚本</p></li> <li><p><strong>持久化数据存储</strong></p> <p>客户端存储数据的技术，比如：cookie，localStorage等。</p></li></ul> <h3 id="渲染引擎"><a href="#渲染引擎" class="header-anchor">#</a> 渲染引擎</h3> <h4 id="主要工作流程"><a href="#主要工作流程" class="header-anchor">#</a> 主要工作流程</h4> <ul><li><p>解析HTML构建DOM树</p> <p>将HTML标签解析成多个DOM元素节点组成的且具有节点父子关系的DOM树结构。</p></li> <li><p>构建渲染树</p> <p>根据DOM树结构提取计算使用的CSS规则并重新计算DOM树结构的样式数据，生成带样式描述的DOM渲染树对象。</p></li> <li><p>渲染树布局</p> <p>根绝渲染树节点在页面中的大小和位置（position，folat，margin等属性），将节点固定在页面对应的位置。</p></li> <li><p>绘制渲染树</p> <p>将渲染树节点的样式（color，background等）属性绘制到浏览器页面中。</p></li></ul> <h4 id="渲染树布局阶段和绘制阶段"><a href="#渲染树布局阶段和绘制阶段" class="header-anchor">#</a> 渲染树布局阶段和绘制阶段</h4> <p>页面生成后，如果元素位置发生变化，就要从布局阶段开始重新渲染，也就是重排，所以页面重排，一定会重绘。如果元素样式改变布局不变，将从绘制阶段开始，也称页面重绘。</p> <h4 id="script标签会阻塞渲染"><a href="#script标签会阻塞渲染" class="header-anchor">#</a> script标签会阻塞渲染</h4> <p>渲染引擎对DOM渲染树的解析是逐行进行的，所以渲染树前面的内容可以先渲染展示，script标签内容辉阻塞页面结构的渲染。</p> <h4 id="不同浏览器内核解析渲染过程不同"><a href="#不同浏览器内核解析渲染过程不同" class="header-anchor">#</a> 不同浏览器内核解析渲染过程不同</h4> <ul><li><p>webkit内核</p> <p>HTML和CSS解析可以认为i是并行的</p></li> <li><p>Gecko内核</p> <p>先解析HTML后解析CSS</p></li></ul> <h4 id="dom元素标签和dom元素对象"><a href="#dom元素标签和dom元素对象" class="header-anchor">#</a> DOM元素标签和DOM元素对象</h4> <ul><li><p>DOM元素标签</p> <p>指文本化的HTML标识</p></li> <li><p>DOM元素对象</p> <p>经过渲染引擎DOM解析后生成具有节点父子关系的树形对象</p></li></ul> <h3 id="浏览器数据持久化存储技术"><a href="#浏览器数据持久化存储技术" class="header-anchor">#</a> 浏览器数据持久化存储技术</h3> <p>即浏览器缓存，有8种缓存机制</p> <h4 id="http文件缓存"><a href="#http文件缓存" class="header-anchor">#</a> HTTP文件缓存</h4> <p>文件缓存生效的情况下，让浏览器从本地读取文件，加快页面资源加载，节省网络流量。在HTML的</p><meta>中的Expires或Cache-Control来设置。Cache-Control设置max-age的时间单位是秒，如果用时设置Expires和Cache-Control。则只有Cache-Control生效<p></p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">http-equiv</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>Expires<span class="token punctuation">&quot;</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>Mon, 20 Jul 2019 23:00:00 GMT<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">http-equiv</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>Cache-Control<span class="token punctuation">&quot;</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>max-age=7200<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>基于HTTP协议</p> <ol><li>发起请求后，浏览器会查询Cache-Control来判断是否过期，未过期直接读取缓存文件，不发送请求，否则进入下一步。（也可以用Expires判断，但是Expires设置的是绝对过期时间，Cache-Control是设置现对过期时间）</li> <li>浏览器判断上次文件返回头中是否含有Etag信息，有则连同If-None-Match一起传给服务器，服务器判断Etag，未修改返回状态码304，修改返回状态码200，否则进入下一步。</li> <li>浏览器判断上次文件返回头中是否含有Last-Modified信息，有则连同If-Modified-Since一起传给服务器，服务器判断Last-Modified是否失效，失效返回200，未失效返回304， 否则下一步。</li> <li>如果Etag和Last-Modified都不存在，直接像服务器请求内容</li></ol> <h4 id="localstorage"><a href="#localstorage" class="header-anchor">#</a> LocalStorage</h4> <p>HTML5的本地缓存方案。浏览器多个标签页打开同个域名页面时，localStroage内容一般是共享的。</p> <div class="language-js extra-class"><pre class="language-js"><code>window<span class="token punctuation">.</span>localStorage<span class="token punctuation">.</span><span class="token function">setItem</span><span class="token punctuation">(</span>key<span class="token punctuation">,</span> value<span class="token punctuation">)</span> <span class="token comment">// 设置存储的值 value是对象的话 需要用JSON.Stringily转成json字符串</span>
window<span class="token punctuation">.</span>localStorage<span class="token punctuation">.</span><span class="token function">getItem</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span> <span class="token comment">// 获取存储的值 如果是json对象字符串的话，需要用Json.parse()转成对象</span>
window<span class="token punctuation">.</span>localStorage<span class="token punctuation">.</span><span class="token function">removeItem</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span> <span class="token comment">// 删除该域名下单条存储的记录</span>
window<span class="token punctuation">.</span>localStorage<span class="token punctuation">.</span><span class="token function">clear</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token comment">// 删除该域名下所有localStorage存储记录</span>
</code></pre></div><h4 id="sessionstorage"><a href="#sessionstorage" class="header-anchor">#</a> SessionStorage</h4> <p>浏览器关闭会自动清空</p> <div class="language-js extra-class"><pre class="language-js"><code>window<span class="token punctuation">.</span>sessionStorage<span class="token punctuation">.</span><span class="token function">setItem</span><span class="token punctuation">(</span>key<span class="token punctuation">,</span> value<span class="token punctuation">)</span> <span class="token comment">// 设置存储的值 value是对象的话 需要用JSON.Stringily转成json字符串</span>
window<span class="token punctuation">.</span>sessionStorage<span class="token punctuation">.</span><span class="token function">getItem</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span> <span class="token comment">// 获取存储的值 如果是json对象字符串的话，需要用Json.parse()转成对象</span>
window<span class="token punctuation">.</span>sessionStorage<span class="token punctuation">.</span><span class="token function">removeItem</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span> <span class="token comment">// 删除该域名下单条存储的记录</span>
window<span class="token punctuation">.</span>sessionStorage<span class="token punctuation">.</span><span class="token function">clear</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token comment">// 删除该域名下所有localStorage存储记录</span>
</code></pre></div><h4 id="cookie"><a href="#cookie" class="header-anchor">#</a> Cookie</h4> <p>最大长度4KB，浏览器可以通过document.cookie来获取cookie。cookie设置HttpOnly参数，浏览器的document.cookie读取不到。</p> <p>Session Cookie：一般不设置过期时间，关闭浏览器自动消失，保存在内存</p> <p>持久性Cookie：设置过期时间，保存在硬盘上，关闭浏览器再次打开cookie依然有效，直到超过过期时间被清空，才失效。</p> <h4 id="indexdb"><a href="#indexdb" class="header-anchor">#</a> indexDB</h4> <p>最大限制50MB。大量数据存到本地会造成数据泄露，实际项目很少用。</p> <h4 id="web-sql"><a href="#web-sql" class="header-anchor">#</a> Web SQL</h4> <p>用于存储较大数据的缓存机制，允许使用SQL语句查询。有兼容性</p> <h4 id="cachestorage"><a href="#cachestorage" class="header-anchor">#</a> CacheStorage</h4> <p>是在ServiceWorker规范中定义的。目浏览器兼容较差，导致不成熟。</p> <h4 id="application-cache"><a href="#application-cache" class="header-anchor">#</a> Application Cache</h4> <p>允许浏览器通过manifest配置文件选择性存储静态资源文件到本地。用作离线浏览，快速加载，服务器负载小。5MB，不兼容主流浏览器，是一个不成熟的本地缓存方案。已被标准弃用，用ServiceWorkers代替。</p> <h4 id="flash"><a href="#flash" class="header-anchor">#</a> Flash</h4> <p>用的不多</p> <h2 id="http协议"><a href="#http协议" class="header-anchor">#</a> HTTP协议</h2> <p>是WWW服务器和用户请求代理之间通过应答请求模式传出的超文本内容的一种协议。</p> <h3 id="http1-0"><a href="#http1-0" class="header-anchor">#</a> HTTP1.0</h3> <ol><li>如果要建立长连接，需要在请求信息中包含connection：keep-alive头域信息。如果服务器响应头也包含connection：keep-alive，则表示后面请求的文件都用长连接。</li> <li>需用用Expires头部控制缓存，只能用绝对时间</li></ol> <h3 id="http1-1"><a href="#http1-1" class="header-anchor">#</a> HTTP1.1</h3> <ol><li>长连接 默认采用connection：keep-alive</li> <li>用Cache-Control头部，支持max-age用来表示相对过期时间，请求服务器可以根据Etag和Last-Modified判断是否加载浏览器缓存文件。</li></ol> <h3 id="http2"><a href="#http2" class="header-anchor">#</a> HTTP2</h3> <p>支持的浏览器很少</p> <ol><li>完全采用二进制格式传输数据</li> <li>使用TCP复用的方式请求（请示是并行的，keep-live是行即一个文件传输完后下一个文件才能复用这个连接）</li> <li>支持服务器推送：在特定条件下把资源主动推送给客户端</li> <li>吃出传输流的优先级和流量控制机制：在未来，服务器优先传输css文件保证页面的渲染，之后传输js脚本文件。</li></ol> <h3 id="安全机制"><a href="#安全机制" class="header-anchor">#</a> 安全机制</h3> <h4 id="xss-跨站脚本攻击"><a href="#xss-跨站脚本攻击" class="header-anchor">#</a> XSS 跨站脚本攻击</h4> <p>页面可解析内容的数据未经处理直接插入到页面上导致的。</p> <p>防范方法是：验证输入到页面上的所有内容来源数据是否安全，如果可能含有脚本标签等内容则需要进行必要的转义。</p> <ul><li><p>存储型XSS</p> <p>前端提交的数据未经处理直接存储到数据，然后从数据库中读取出来后直接插入到页面中所导致的。</p></li> <li><p>反射性XSS</p> <p>在网页URL参数中注入可解析内容的数据而导致，如果直接获取URL中不合法的并插入页面中则可能导致攻击</p></li> <li><p>MXSS(DOM XSS)</p> <p>渲染DOM属性时将攻击脚本插入DOM属性中被解析而导致</p></li></ul> <h4 id="sql注入-结构化查询语句"><a href="#sql注入-结构化查询语句" class="header-anchor">#</a> SQL注入 结构化查询语句</h4> <p>页面提交数据到服务器后端，服务器后端未进行数据校验就将数据直接拼接到SQL语句中执行。</p> <p>防范方法：对前端网页提交的数据内容进行严格的检查。</p> <h4 id="csrf-跨站请求伪造"><a href="#csrf-跨站请求伪造" class="header-anchor">#</a> CSRF 跨站请求伪造</h4> <p>非源站点按照源站点的数据请求格式提交非法数据给源站点服务器的一种攻击方法</p> <p>防范方法：token令牌验证</p> <h4 id="网络劫持"><a href="#网络劫持" class="header-anchor">#</a> 网络劫持</h4> <h5 id="dns劫持"><a href="#dns劫持" class="header-anchor">#</a> DNS劫持</h5> <p>攻击者劫持了DNS服务器，通过某种手段修改域名的解析结果，导致用户对该域名地址的访问有原IP转到修改后的IP地址，结果就是让正确的网址不能解析或解析指向另一个网站IP，实现获取用户资料或破坏原网站正常服务的目的。</p> <h5 id="http劫持"><a href="#http劫持" class="header-anchor">#</a> HTTP劫持</h5> <p>在用户浏览器与访问目的的服务器之间所建立的网络数据传输通道中，从网关或防火墙层上监视特定数据信息，当满足一定条件时，就会在正常的数据包中插入或修改成攻击者的网络数据包，让用户浏览器解析错误的数据，或弹出新窗口的形式，在使用者浏览器界面上显示其他内容。</p> <p>防范方法：尽量使用HTTPS协议</p> <h3 id="https"><a href="#https" class="header-anchor">#</a> HTTPS</h3> <p>通过加入SSL层来加密HTTP数据进行安全传输，默认开启443端口</p> <h3 id="前端实时协议"><a href="#前端实时协议" class="header-anchor">#</a> 前端实时协议</h3> <h4 id="websocket通信机制"><a href="#websocket通信机制" class="header-anchor">#</a> WebSocket通信机制</h4> <h4 id="poll-和-long-poll"><a href="#poll-和-long-poll" class="header-anchor">#</a> Poll 和 Long-poll</h4> <h4 id="ddp协议"><a href="#ddp协议" class="header-anchor">#</a> DDP协议</h4> <h3 id="css"><a href="#css" class="header-anchor">#</a> css</h3> <h4 id="伪类"><a href="#伪类" class="header-anchor">#</a> 伪类</h4> <p>会在HTML中添加before或after这类内容</p> <h4 id="伪元素"><a href="#伪元素" class="header-anchor">#</a> 伪元素</h4> <p>不会添加HTML内容，一般用于表示用户在不同操作下的状态或指定元素的描述</p></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">上次更新时间:</span> <span class="time">10/12/2020, 5:09:15 PM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/other/vant/" class="prev">
        Vant
      </a></span> <span class="next"><a href="/plugins/cookie.html">
        插件的使用
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"><!----></div></div>
    <script src="/assets/js/app.8a0c65b0.js" defer></script><script src="/assets/js/2.c3d0c622.js" defer></script><script src="/assets/js/11.18263d61.js" defer></script>
  </body>
</html>
